<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Birthday Countdown</title>
    <script src="../tailwind.js"></script>
    <style>
        body{
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            align-content: center;
        }
        select, button{
            border: none;
            border-radius: 5px;
            background: #333333;
            color: white;
        }

        #newReminder, #removeReminder{
            padding: 10px;
        }

        input{
            padding: 10px ;
            width: 500px;
            border-radius: 5px;
            border: 2px solid black;
            background: #33333333;
        }
        #mainDiv{
            display: none;
        }
        #errorCode{
            display: none;
        }
        #errorCode2{
            display: none;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        #toBeReminded{
            /*display: none;*/
        }

        th, td {
            padding: 0.75rem;
            border: 1px solid #ddd;
            text-align: left;
            min-width: 210px;
        }
        #removeReminder{
            display:none;
        }
        th {
            background-color: #f2f2f2;
            color: #333;
        }

        tbody tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        tbody tr:hover {
            background-color: #e9e9e9;
        }
    </style>
</head>
<body class="flex">
    <h1 class="text-4xl mt-[100px]">Birthday Reminder Application</h1>  <br>
    <button class="" id="newReminder">Add New Reminder</button>
    <button class="" id="removeReminder">Remove Reminder Page</button>
    <br>
    <div id="toBeReminded">
        <div class="reminder flex shadow-lg gap-[60%] items-center rounded w-[100%] h-fit p-3 border-t-1 border-t-[#33333320]">
            <table id="table">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Birthday</th>
                    <th>Countdown</th>
                </tr>
                </thead>
                <tbody id="tableBody">
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                </tbody>
            </table>
<!--            <h3>Nathaniel</h3>-->
<!--            <button class="pl-10 pr-10 p-2">Edit</button>-->
        </div>
    </div>
    <div id="mainDiv" class="p-[100px] shadow-md rounded  border-t-2 border-t-[#33333320] w-[755px] m-[2rem auto] p-[1rem] bg-[#fff] ">
        <label for="userName">Name</label> <br>
        <input type="text" name="" id="userName" placeholder="Enter Recipient Name">
        <p class="text-red-400" id="errorCode">Enter A Valid Name</p><br> <br>
        <label for="date">Birthday of Recipient</label>
        <input type="date" name="" id="date"> <br> <br>
        <p class="text-red-400" id="errorCode2">Enter A Date</p><br>
<!--    <input type="text" id="date" placeholder="Enter in your date of birth (e.g 6, 24)"> <br> <br>-->
    <button id="add" class="p-3">Add Reminder</button>
    <h3 id="h3"></h3>
    </div>
    <script>
    let newReminderInitial = document.getElementById('newReminder');
    let dateSelector = document.getElementById('date');
    let mainReminderInterface = document.getElementById('mainDiv');
    let addReminder = document.getElementById('add');
    let removeReminder = document.getElementById('removeReminder');
    let tableBody = document.getElementById('tableBody');
    newReminderInitial.addEventListener('click', () => {
        mainReminderInterface.style.display = 'block'
        removeReminder.style.display = 'block'
        newReminderInitial.style.display = 'none'
    })

    removeReminder.addEventListener('click', () => {
        removeReminder.style.display = 'none'
        newReminderInitial.style.display = 'block'
        mainReminderInterface.style.display = 'none'
        setInterval(main, 1000)
    })


    function main(){
        let now = new Date();
        let futureDate = new Date(dateSelector.value);
        const timeDifferenceMs = futureDate - now;
        console.log(timeDifferenceMs);
        const days = Math.floor(timeDifferenceMs /(1000*60*60*24));
        const hours = Math.floor((timeDifferenceMs /(1000*60*60)%24));
        const minutes = Math.floor((timeDifferenceMs/1000*60)%60);
        const seconds = Math.floor((timeDifferenceMs/1000)%60);
        let daysText = document.createTextNode(days.toString())
        let hoursTet = document.createTextNode(hours.toString())
        let minutesText = document.createTextNode(minutes.toString())
        let secondsText = document.createTextNode(seconds.toString())
        console.log(`${days}:${hours}:${minutes}:${seconds}`);
        let userName = document.getElementById('userName');
        let tableRow = document.createElement('tr');
        let tableRowNameDetail = document.createElement('td');
        let tableRowBirthDetail = document.createElement('td');
        let tableRowCountDownDetail = document.createElement('td');
        let nameValue = document.createTextNode(userName.value);
        let birthDay = document.createTextNode(dateSelector.value);drtcfgvhfcgb
        let daySpan = document.createElement('span');
        let hourSpan = document.createElement('span');
        let minuteSpan = document.createElement('span');
        let secondSpan = document.createElement('span');
        daySpan.appendChild(daysText);
        hourSpan.appendChild(hoursTet);
        minuteSpan.appendChild(minutesText);
        secondSpan.appendChild(secondsText);
        tableRowCountDownDetail.appendChild(daySpan);
        tableRowCountDownDetail.appendChild(hourSpan);
        tableRowCountDownDetail.appendChild(minuteSpan);
        tableRowCountDownDetail.appendChild(secondSpan);
        daySpan.textContent +=" : "
        hourSpan.textContent +=" : "
        minuteSpan.textContent +=" : "
        tableRowNameDetail.appendChild(nameValue);
        tableRowBirthDetail.appendChild(birthDay);
        tableRow.appendChild(tableRowNameDetail);
        tableRow.appendChild(tableRowBirthDetail);
        tableRow.appendChild(tableRowCountDownDetail);
        tableBody.appendChild(tableRow);
    }



        // let newReminder = document.getElementById('newReminder')
        // let userName = document.getElementById('userName')
        // let mainDiv = document.getElementById('mainDiv')
        // let input = document.getElementById('date');
        // let select = document.getElementById("date")
        // let button = document.getElementById('add')
        // let h3 = document.getElementById('h3')
        // let errorCode = document.getElementById('errorCode')
        // let errorCode2 = document.getElementById('errorCode2')`
        // let toBeReminded = document.getElementById('toBeReminded')
        // let months = ['January', 'February', 'March', 'April', 'May', 'June', 'Jul`y', 'August', 'September', 'October', 'November', 'December']
        // let table = document.getElementById('table')
        // let tableBody = document.getElementById('tableBody')
        // let remainingHours;
        // let remainingMinutes;
        // let remainingSeconds;
        // // button.addEventListener("click", ()=>{
        // //    let now = new Date()
        // //    let birthDate = new Date(`${select.value} ${Number(input.value)} ${now.getFullYear() + 1}`)
        // //    console.log(birthDate)
        // //    console.log(birthDate.getDay())
        // // });
        //
        // function calculateTimeUntil(nameContent, countDownContent) {
        //     const now = new Date();
        //     const futureDate = new Date(select.value);
        //
        //     // Check if the target date is in the past
        //     if (futureDate < now) {
        //         return "The target date has already passed.";
        //     }
        //
        //     const timeDifferenceMs = futureDate - now;
        //
        //     const seconds = Math.floor(timeDifferenceMs / 1000);
        //     const minutes = Math.floor(seconds / 60);
        //     const hours = Math.floor(minutes / 60);
        //     const days = Math.floor(hours / 24);
        //
        //     remainingHours = (hours % 24).toString();
        //     remainingMinutes = (minutes % 60).toString();
        //     remainingSeconds = (seconds % 60).toString();
        //     toBeReminded.style.display = 'flex';
        //     // mainDiv.style.display = 'none';
        //     let tableRow = document.createElement('tr')
        //     nameContent = document.createTextNode(userName.value)
        //     let daySpan = document.createElement('span');
        //     let hourSpan = document.createElement('span')
        //     let minuteSpan = document.createElement('span')
        //     let secondSpan = document.createElement('span')
        //     daySpan.innerHTML=days
        //     hourSpan.innerHTML=remainingHours
        //     minuteSpan.innerHTML=remainingMinutes
        //     secondSpan.innerHTML= remainingSeconds;
        //     countDownContent = document.createTextNode(`${days.toString().padStart(2, '0')} : ${remainingHours.toString().padStart(2, '0')} : ${remainingMinutes.toString().padStart(2, '0')} : ${remainingSeconds.toString().padStart(2, "0")}`)
        //     let tableBirthDay = document.createElement('td')
        //     let tableNameDetailTag = document.createElement('td')
        //     tableBirthDay.appendChild(daySpan)
        //     tableBirthDay.appendChild(hourSpan)
        //     tableBirthDay.appendChild(minuteSpan)
        //     tableBirthDay.appendChild(secondSpan)
        //     tableNameDetailTag.appendChild(nameContent)
        //     // tableBirthDay.appendChild(tableBirthDay)
        //     tableRow.appendChild(tableNameDetailTag)
        //     tableRow.appendChild(tableBirthDay)
        //     tableBody.appendChild(tableRow)
        // }
        // button.addEventListener("click", ()=>{
        //     mainDiv.style.display = 'none';
        //     if (userName.value.trim() === ''){
        //         userName.border = '1.8px solid red'
        //         userName.style.outline = 'none'
        //         errorCode.style.display = 'flex'
        //     }
        //     if(!isNaN(select.value)){
        //         errorCode2.style.display = 'flex'
        //
        //     }
        //     else {
        //         setInterval(calculateTimeUntil, 1000)
        //         let tableRow = document.createElement('tr')
        //         let tableName = document.createTextNode(userName.value)
        //         let tableAge = document.createTextNode(select.value)
        //         let tableDetail = document.createElement('td')
        //         let tableBirthDay = document.createElement('td')
        //         tableDetail.appendChild(tableName)
        //         tableBirthDay.appendChild(tableAge)
        //         tableRow.appendChild(tableDetail)
        //         tableRow.appendChild(tableBirthDay)
        //         tableBody.appendChild(tableRow)
        //     }
        // })
        //
        // newReminder.addEventListener('click', function (){
        //     mainDiv.style.display = 'block'
        // })

    </script>
</body>
</html>
